Traceback (most recent call last):
  File "/home/vaclav/.local/lib/python3.10/site-packages/jupyter_cache/executors/utils.py", line 58, in single_nb_execution
    executenb(
  File "/home/vaclav/.local/lib/python3.10/site-packages/nbclient/client.py", line 1314, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/home/vaclav/.local/lib/python3.10/site-packages/jupyter_core/utils/__init__.py", line 165, in wrapped
    return loop.run_until_complete(inner)
  File "/usr/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/home/vaclav/.local/lib/python3.10/site-packages/nbclient/client.py", line 709, in async_execute
    await self.async_execute_cell(
  File "/home/vaclav/.local/lib/python3.10/site-packages/nbclient/client.py", line 1062, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "/home/vaclav/.local/lib/python3.10/site-packages/nbclient/client.py", line 918, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
from math import sqrt
import numpy as np

N = 10001

def basic_op():
    xs = [(0.0 + i *0.01) for i in range(N)]
    ys = [sqrt(x) + 1 for x in xs]

def np_op():
    x = np.linspace(0., 1., N)
    y = np.sqrt(x) + 1

def np_dumb_op():
    x = np.linspace(0., 1., N)
    y = np.zeros(x.shape, dtype=np.double)
    for i, xi in enumerate(x):
        y[i] = sqrt(xi) + 1


def on_el_op(x):
    return sqrt(x) + 1

vectorized_op = np.vectorize(op)

def vectorized_basic_op():
    x = np.linspace(0., 1., N)
    y = vectorized_op(x)


time_func(basic_op)
time_func(np_op)
time_func(np_dumb_op)
time_func(vectorized_basic_op)
------------------


[0;31m---------------------------------------------------------------------------[0m
[0;31mNameError[0m                                 Traceback (most recent call last)
[0;32m/tmp/ipykernel_1080287/1644077815.py[0m in [0;36m<module>[0;34m[0m
[1;32m     22[0m     [0;32mreturn[0m [0msqrt[0m[0;34m([0m[0mx[0m[0;34m)[0m [0;34m+[0m [0;36m1[0m[0;34m[0m[0;34m[0m[0m
[1;32m     23[0m [0;34m[0m[0m
[0;32m---> 24[0;31m [0mvectorized_op[0m [0;34m=[0m [0mnp[0m[0;34m.[0m[0mvectorize[0m[0;34m([0m[0mop[0m[0;34m)[0m[0;34m[0m[0;34m[0m[0m
[0m[1;32m     25[0m [0;34m[0m[0m
[1;32m     26[0m [0;32mdef[0m [0mvectorized_basic_op[0m[0;34m([0m[0;34m)[0m[0;34m:[0m[0;34m[0m[0;34m[0m[0m

[0;31mNameError[0m: name 'op' is not defined

